###
# ðŸ‘› Wallet Scanning Tests
# Endpoint: POST /api/v1/scan/wallet
# Purpose: Test wallet security scanning (age, balance, transactions)
###

### Load environment variables
@baseUrl = http://localhost:3001
@apiVersion = v1
@apiUrl = {{baseUrl}}/api/{{apiVersion}}

###
# Test 1: Scan Vitalik's Wallet (Well-known, Old, High Activity)
# Expected: Low risk, old wallet (> 5 years), many transactions
###
# @name scanVitalikWallet
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "address": "0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045",
  "chainId": 1
}

###
# Test 2: Scan Uniswap Router (Contract as Wallet)
# Expected: High transaction count, old age
###
# @name scanUniswapRouter
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "address": "0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",
  "chainId": 1
}

###
# Test 3: Scan Random Wallet (untuk test general wallet)
# Expected: Varies based on wallet activity
###
# @name scanRandomWallet
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "address": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
  "chainId": 1
}

###
# Test 4: Scan BSC Wallet
# Expected: Works on BSC chain
###
# @name scanBSCWallet
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "address": "0x8894E0a0c962CB723c1976a4421c95949bE2D4E3",
  "chainId": 56
}

###
# Test 5: Scan Polygon Wallet
# Expected: Works on Polygon chain
###
# @name scanPolygonWallet
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "address": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
  "chainId": 137
}

###
# Test 6: Invalid Wallet Address Format
# Expected: 400 Bad Request
###
# @name invalidWalletFormat
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "address": "wallet123",
  "chainId": 1
}

###
# Test 7: Missing Address Field
# Expected: 400 Bad Request
###
# @name missingWalletAddress
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "chainId": 1
}

###
# Test 8: Null Address
# Expected: 400 Bad Request
###
# @name nullAddress
POST {{apiUrl}}/scan/wallet HTTP/1.1
Content-Type: application/json

{
  "address": null,
  "chainId": 1
}

###
