###
# ðŸª™ Token Scanning Tests
# Endpoint: POST /api/v1/scan/token
# Purpose: Test token security scanning (tax, honeypot, liquidity)
###

### Load environment variables
@baseUrl = http://localhost:3001
@apiVersion = v1
@apiUrl = {{baseUrl}}/api/{{apiVersion}}

###
# Test 1: Scan Legitimate Token (Chainlink LINK)
# Expected: Low risk score, no honeypot, normal tax
###
# @name scanLinkToken
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "0x514910771AF9Ca656af840dff83E8264EcF986CA",
  "chainId": 1
}

###
# Test 2: Scan Stablecoin (DAI)
# Expected: Very low risk, verified, high liquidity
###
# @name scanDAIToken
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "0x6B175474E89094C44Da98b954EedeAC495271d0F",
  "chainId": 1
}

###
# Test 3: Scan Wrapped ETH (WETH)
# Expected: Minimal risk, widely used
###
# @name scanWETHToken
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",
  "chainId": 1
}

###
# Test 4: Scan BSC Token (PancakeSwap CAKE)
# Expected: Works on BSC chain
###
# @name scanBSCToken
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",
  "chainId": 56
}

###
# Test 5: Scan Polygon Token (MATIC)
# Expected: Works on Polygon chain
###
# @name scanPolygonToken
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "0x0000000000000000000000000000000000001010",
  "chainId": 137
}

###
# Test 6: Invalid Token Address
# Expected: 400 Bad Request
###
# @name invalidTokenAddress
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "not_a_valid_address",
  "chainId": 1
}

###
# Test 7: Missing ChainId
# Expected: 400 Bad Request (chainId required)
###
# @name missingChainId
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "0x514910771AF9Ca656af840dff83E8264EcF986CA"
}

###
# Test 8: Zero Address (invalid)
# Expected: 400 Bad Request
###
# @name zeroAddress
POST {{apiUrl}}/scan/token HTTP/1.1
Content-Type: application/json

{
  "address": "0x0000000000000000000000000000000000000000",
  "chainId": 1
}

###
